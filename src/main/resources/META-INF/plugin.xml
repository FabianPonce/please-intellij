<idea-plugin>
    <id>org.example.please-intellij</id>
    <name>please.build</name>
    <vendor email="please@thoughtmachine.net" url="https://please.build">Thought Machine</vendor>

    <description><![CDATA[
        Plugin supporting the Please build system.
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>Pythonid</depends>
    <depends>org.jetbrains.plugins.go</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="Please" implementationClass="net.thoughtmachine.please.plugin.PleaseFileType"
                  fieldName="INSTANCE" language="Please" extensions="plz;build_defs;build_def" fileNames="BUILD"/>
        <lang.parserDefinition language="Please"
                               implementationClass="net.thoughtmachine.please.plugin.parser.PleaseParserDefinition"/>
        <lang.syntaxHighlighterFactory language="Please"
                                       implementationClass="com.jetbrains.python.highlighting.PySyntaxHighlighterFactory"/>
        <runLineMarkerContributor  language="Python"
                                        implementationClass="net.thoughtmachine.please.plugin.PleaseLineMarkerProvider"/>
        <configurationType implementation="net.thoughtmachine.please.plugin.PleaseRunConfigurationType"/>

        <preloadingActivity implementation="net.thoughtmachine.please.plugin.PleaseLSPPreloadActivity"
                            id="net.thoughtmachine.please.plugin.PleaseLSPPreloadActivity" />
        <completion.contributor implementationClass="org.wso2.lsp4intellij.contributors.LSPCompletionContributor"
                                id="LSPCompletionContributor" language="Please"/>
        <localInspection language="Please" displayName="Please: Unresolved subinclude" enabledByDefault="true" level="ERROR" groupName="Please"
                         implementationClass="net.thoughtmachine.please.plugin.subinclude.UnresolvedSubincludeInspection"/>
        <notificationGroup id="Please" displayType="BALLOON"/>
        <editorFactoryListener implementation="net.thoughtmachine.please.plugin.subinclude.SubincludeEditorFactoryListener"/>
        <completion.contributor language="Python" implementationClass="net.thoughtmachine.please.plugin.labels.BuildLabelCompletionContributor"/>
    </extensions>

    <extensions defaultExtensionNs="Pythonid">
        <!--  builtins  -->
        <pyReferenceResolveProvider
                implementation="net.thoughtmachine.please.plugin.builtins.BuiltinReferenceResolveProvider"/>
        <!--  Resolves subincludes  -->
        <pyReferenceResolveProvider
                implementation="net.thoughtmachine.please.plugin.subinclude.SubincludeReferenceResolveProvider"/>
    </extensions>

    <application-components>
        <component>
            <implementation-class>org.wso2.lsp4intellij.IntellijLanguageClient</implementation-class>
        </component>
    </application-components>

</idea-plugin>