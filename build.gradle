plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '1.13.3'
    id 'org.jetbrains.kotlin.jvm' version '1.8.20'
}

group 'net.thoughtmachine.please'
version 'v2.1.4'

repositories {
    mavenCentral()
    maven { url 'https://jitpack.io' }
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    implementation "org.apache.ant:ant:1.10.13"
    implementation 'com.fasterxml.jackson.module:jackson-module-kotlin:2.13.1'
    testImplementation group: 'junit', name: 'junit', version: '4.12'
    testImplementation("org.jetbrains.kotlin:kotlin-test-junit:1.8.20")
}

intellij {
    version = '2022.3.1'
    type = "GO"
    //setPlugins("Pythonid:223.8617.56", 'org.jetbrains.plugins.go:223.8617.56')
    plugins = [ 
        "PythonCore:223.8214.16",
        "org.jetbrains.plugins.go"
        //"Pythonid:223.8617.56", 
        //"org.jetbrains.plugins.go:223.8617.56" 
    ]
    //updateSinceUntilBuild false
}

compileKotlin {
    kotlinOptions.jvmTarget = "17"
}

compileTestKotlin {
    kotlinOptions.jvmTarget = "17"
    exclude '**/*'
}

sourceSets["main"].java.srcDirs("src/main/gen")

runIde {
    jvmArgs '-Xmx8G'
}
